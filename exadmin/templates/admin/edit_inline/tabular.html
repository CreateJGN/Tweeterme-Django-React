{% load i18n exadmin crispy_forms_tags %}
<div class="box formset{% if formset.css_class or form_style %} {{ fieldset.css_class }} {{ form_style }}{% endif %}" id="{{ formset.css_id }}" {{ formset.flat_attrs|safe }}>
  <div class="box-title">
    <a class="add-row" id="{{ prefix }}-add-row"><i class="icon fa-icon-plus"></i></a>
    {{ formset.opts.verbose_name_plural|title }}
  </div> 
  {{ formset.formset.management_form }}
  {{ formset.formset.non_form_errors }}
  <div class="box-content nopadding">
    <table class="table">
      <thead>
     {% for field in fields %}
       {% if not field.widget.is_hidden %}
         <th{% if forloop.first %} colspan="2"{% endif %}{% if field.required %} class="required"{% endif %}>{{ field.label|capfirst }}
         {% if field.help_text %}&nbsp;<a title="{{ field.help_text|striptags }}" /><i class="icon fa-icon-question-sign"></i></a>{% endif %}
         </th>
       {% endif %}
     {% endfor %}
     {% if formset.formset.can_delete %}<th>&nbsp;</th>{% endif %}
      </thead>
      <tbody class="formset-content" data-prefix="{{ prefix }}" data-style="stacked">
        {% for fs in formset.formset %}
        <tr class="formset-row">
          {% crispy fs formset.formset.helper %}
          {% if formset.formset.can_delete %}
            <td><a class="delete-row"><i class="icon fa-icon-remove"></i></a></td>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <script type="text/x-exadmin" id="{{ prefix }}-empty">
    <tr class="formset-row">
      {% crispy formset.formset.empty_form formset.formset.helper %}
      {% if formset.formset.can_delete %}
        <td><a class="delete-row"><i class="icon fa-icon-remove"></i></a></td>
      {% endif %}
    </tr>
  </script>
</div>